# ContinuityBridge - Render Deployment Environment Variables

# === Application Domain Configuration ===
# Your production domain (used for magic links, exports, license validation)
APP_URL=https://networkvoid.xyz
APP_DOMAIN=networkvoid.xyz
EXPORT_CONTACT_EMAIL=support@networkvoid.xyz

# === Resend Configuration (Superadmin Emails) ===
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_Kgz1HPWa_5APiXEXJRFs52VneVd4W9Lef
RESEND_FROM_EMAIL=noreply@networkvoid.xyz
# Note: Domain must be verified in Resend dashboard

# SUPERADMIN Configuration
SUPERADMIN_API_KEY=7c4b95070693970cd52ab9948ba71098b4b310a35a2c83b06794429bc3d145cb
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# === Security Configuration (Production) ===
# Encryption key for sensitive data (credentials, API keys, secrets)
ENCRYPTION_KEY=DnykqzRfAd7t1WtUCGaQ8mpZBCqWeHDpb
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# OAuth2 Configuration (Optional but recommended for production)
GOOGLE_CLIENT_ID=your-google-oauth-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_REDIRECT_URI=https://networkvoid.xyz/api/auth/google/callback

# License Validation Server (phone-home validation to prevent clock manipulation)
LICENSE_VALIDATION_URL=https://networkvoid.xyz/api/license/validate

# Organization
ORGANIZATION_ID=your-org-id
RUNTIME_VERSION=1.0.0

# Node Environment
NODE_ENV=production

# === Authentication Configuration ===
# Auth Guard: ALWAYS ENABLED for Founders production instance
# This is the default ContinuityBridge platform (Render/Vercel)
# Customers receive their own deployments with configurable auth guard
AUTH_GUARD_ENABLED=true

# === Logging Configuration ===
LOG_LEVEL=info  # debug | info | warn | error
DB_LOGGING=true  # Store logs in database for web portal access
DEBUG=false  # Enable debug logs

# ============================================================================
# DATABASE CONFIGURATION (PRODUCTION)
# ============================================================================

# Database Type: "postgres" for production (recommended)
DB_TYPE=postgres

# PostgreSQL Connection String (REQUIRED when DB_TYPE=postgres)
# Render provides DATABASE_URL automatically for PostgreSQL services
# Or use external providers:
# DATABASE_URL=postgresql://user:password@host:5432/database

# Supabase Configuration (Recommended for Founders Platform)
# Session pooler (recommended for serverless/connection pooling):
DATABASE_URL=postgresql://postgres.kulhtoaafcglqbmomnrz:5l9Q6lbm1sB13LCG@aws-1-us-east-2.pooler.supabase.com:5432/postgres?schema=stage1
# Direct connection (for migrations/admin tasks):
# DATABASE_URL=postgresql://postgres:5l9Q6lbm1sB13LCG@db.kulhtoaafcglqbmomnrz.supabase.co:5432/postgres?schema=stage1

# Examples for different providers:
# Neon (Serverless Postgres): postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/database?sslmode=require
 Supabase: postgresql://postgres:5l9Q6lbm1sB13LCG@db.[project-ref].supabase.co:5432/postgres?schema=stage1
# Render Postgres: Automatically provided as DATABASE_URL environment variable
# AWS RDS: postgresql://user:password@your-rds-instance.region.rds.amazonaws.com:5432/database
# Heroku Postgres: Automatically provided as DATABASE_URL environment variable

# PostgreSQL Connection Pool (Production Tuning)
DB_POOL_MAX=20          # Maximum connections in pool
DB_POOL_MIN=2           # Minimum idle connections
DB_IDLE_TIMEOUT=30000   # Idle timeout (30 seconds)
DB_CONNECTION_TIMEOUT=10000  # Connection timeout (10 seconds)

# SMTP Settings (Required for magic link authentication)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@networkvoid.xyz

# === Customer SMTP Configuration ===
# This is configured by customers via the UI at /settings/email
# Used for flow notifications (errors, validations, acks)
# NOT used for superadmin tasks (magic links, invitations)
# Customer configures their own SMTP server in the application

# === AI Assistant Configuration (Optional) ===
# Gemini API for AI-powered consultant assistance
# Free tier: 15 req/min, 1500 req/day
# Get your key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=AIzaSyA9VHDFcB1bswQlbRh4rJUVT9wjVkuJHoo
# Features: Smart mapping generation, error diagnosis, flow suggestions
